[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

markers =
    unit: Unit tests that don't require external services
    integration: Integration tests that require external services like MongoDB
    slow: Tests that take longer to run
    validator: Tests related to MongoDB document validation
    connection: Tests related to MongoDB connection management
    pipeline: Tests related to data pipeline functionality
    pubsub: Tests related to Google Pub/Sub functionality

# Test collection settings
norecursedirs = .* build dist CVS _darcs {arch} *.egg venv env virtualenv

# Test running settings
addopts = -v --strict-markers

# Environment variables
env_files =
    tests/config/.env.test
    tests/config/.env.integration

asyncio_mode = strict
asyncio_default_fixture_loop_scope = function 